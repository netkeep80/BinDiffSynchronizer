# BinDiffSynchronizer — Персистная инфраструктура

Библиотека на C++17 для построения персистных структур данных на основе единого персистного адресного пространства (ПАП).

---

## Обзор

Проект реализует персистную инфраструктуру, позволяющую хранить объекты произвольных типов в едином бинарном файле-образе и восстанавливать их между перезапусками без вызова конструкторов.

Конечная цель — реализация `pjson`, персистного аналога `nlohmann::json`.

---

## Архитектура

### Требования

| №     | Требование |
|-------|------------|
| Тр.1  | Персистные объекты используют только персистные указатели |
| Тр.2  | Создание/удаление объектов — через специальные методы аллокатора |
| Тр.3  | При запуске аллокатор инициализируется именем файла-хранилища |
| Тр.4  | Единое ПАП для объектов разных типов |
| Тр.5  | `sizeof(fptr<T>) == sizeof(void*)` |
| Тр.6  | Все комментарии — на русском языке |
| Тр.7  | Никакой логики с именами файлов в `persist<T>` |
| Тр.8  | `sizeof(persist<T>) == sizeof(T)` |
| Тр.9  | Никакой логики с именами файлов в `fptr<T>` |
| Тр.10 | При загрузке образа ПАП конструкторы/деструкторы не вызываются |
| Тр.11 | Объекты `persist<T>` живут только в образе ПАП |
| Тр.12 | Доступ к персистным объектам — только через `fptr<T>` |
| Тр.13 | `fptr<T>` может находиться как в обычной памяти, так и в ПАП |
| Тр.14 | ПАМ — персистный объект, хранит имена объектов |
| Тр.15 | `fptr<T>` инициализируется строковым именем объекта через ПАМ |
| Тр.16 | ПАМ хранит карту объектов и их имена |

---

## Файлы проекта


---

## Лицензия

Unlicense — общественное достояние. Подробности в файле `LICENSE`.
