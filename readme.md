# BinDiffSynchronizer

[English](#english) | [–†—É—Å—Å–∫–∏–π](#—Ä—É—Å—Å–∫–∏–π)

---

<a name="—Ä—É—Å—Å–∫–∏–π"></a>
## –†—É—Å—Å–∫–∏–π

### –û–ø–∏—Å–∞–Ω–∏–µ

BinDiffSynchronizer ‚Äî —ç—Ç–æ C++ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –±–∏–Ω–∞—Ä–Ω–æ–π –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤. –ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–π—Ç–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

–ü—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–æ–º –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–∏—Å—Ç–µ–º—ã **jgit** ‚Äî —Ç–µ–º–ø–æ—Ä–∞–ª—å–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è JSON-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π Git –ø–æ –º–æ–¥–µ–ª–∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–ª—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö JSON-—Å—Ç—Ä—É–∫—Ç—É—Ä.

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: –§–∞–∑–∞ 1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ ‚úì ¬∑ –§–∞–∑–∞ 2 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ ‚úì ¬∑ –§–∞–∑–∞ 3 –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ üöÄ

–§–∞–∑–∞ 1 —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω—ã–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç ‚Äî –∫–æ–º–ø–∏–ª–∏—Ä—É–µ–º—É—é, –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—É—é, –ø–æ–∫—Ä—ã—Ç—É—é —Ç–µ—Å—Ç–∞–º–∏ –∫–æ–¥–æ–≤—É—é –±–∞–∑—É —Å —Ä–∞–±–æ—á–∏–º –æ–±—ä–µ–∫—Ç–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º JSON-–¥–∞–Ω–Ω—ã—Ö –≤ –±–∏–Ω–∞—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.

**–ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –§–∞–∑–µ 1:**

| –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å |
|--------|--------|
| –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ (`PageDevice.h`, `persist.h`) | ‚úì –ì–æ—Ç–æ–≤–æ |
| –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ C++17 —Å CMake | ‚úì –ì–æ—Ç–æ–≤–æ |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è nlohmann/json (CBOR) | ‚úì –ì–æ—Ç–æ–≤–æ |
| –û–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å –∫–æ–Ω—Ç–µ–Ω—Ç–Ω–æ–π –∞–¥—Ä–µ—Å–∞—Ü–∏–µ–π | ‚úì –ì–æ—Ç–æ–≤–æ |
| Unit-—Ç–µ—Å—Ç—ã (29 —Ç–µ—Å—Ç–æ–≤, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç) | ‚úì –ì–æ—Ç–æ–≤–æ |
| CI —Å GitHub Actions (Linux GCC/Clang, Windows MSVC) | ‚úì –ì–æ—Ç–æ–≤–æ |

**–ü—Ä–æ–≥—Ä–µ—Å—Å –§–∞–∑—ã 2 ‚Äî –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ JSON:**

| –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å |
|--------|--------|
| 2.1: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Å—É—â–µ—Å—Ç–≤–∏–º–æ—Å—Ç–∏: `persist<T>` –¥–ª—è std-–∫–ª–∞—Å—Å–æ–≤ | ‚úì –ì–æ—Ç–æ–≤–æ |
| 2.2: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã—Ö –∞–Ω–∞–ª–æ–≥–æ–≤ std-—Ç–∏–ø–æ–≤ | ‚úì –ì–æ—Ç–æ–≤–æ |
| 2.3: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `jgit::persistent_json_value` | ‚úì –ì–æ—Ç–æ–≤–æ |
| 2.4: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `jgit::PersistentJsonStore` | ‚úì –ì–æ—Ç–æ–≤–æ |
| 2.5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ObjectStore (–§–∞–∑–∞ 1) | ‚úì –ì–æ—Ç–æ–≤–æ |
| 2.6: Unit-—Ç–µ—Å—Ç—ã (109 —Ç–µ—Å—Ç–æ–≤, CI –∑–µ–ª—ë–Ω—ã–π –Ω–∞ GCC/Clang/MSVC) | ‚úì –ì–æ—Ç–æ–≤–æ |
| 2.7: –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ | ‚úì –ì–æ—Ç–æ–≤–æ |

**–ü—Ä–æ–≥—Ä–µ—Å—Å –§–∞–∑—ã 3 ‚Äî –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–µ—Ä—Å–∏—Å—Ç–Ω–æ–π –æ–±–≤—è–∑–∫–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å nlohmann::json:**

| –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å |
|--------|--------|
| 3.1: –î–æ—Ä–∞–±–æ—Ç–∫–∞, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä—Å–∏—Å—Ç–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (`persist<T>`, `fptr<T>`, `AddressManager`, `Cache`, `PageDevice`, `MemoryDevice`, `StaticPageDevice`) | ‚úì –ì–æ—Ç–æ–≤–æ (161 —Ç–µ—Å—Ç, CI –∑–µ–ª—ë–Ω—ã–π) |
| 3.2: –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å `persistent_string`, `persistent_map`, `persistent_json_value`, `PersistentJsonStore` –Ω–∞ `persist<T>` –∏ `fptr<T>` | ‚úì –ì–æ—Ç–æ–≤–æ (185 —Ç–µ—Å—Ç–æ–≤, CI –∑–µ–ª—ë–Ω—ã–π) |
| 3.3: –ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞—Ç—å `nlohmann::basic_json<>` —Å –ø–µ—Ä—Å–∏—Å—Ç–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏ | üîú –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ |
| 3.4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏ CI | üîú –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ |
| 3.5: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–Ω—á–º–∞—Ä–∫–∏ | üîú –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ |

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ë–∏–Ω–∞—Ä–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ–±—ä–µ–∫—Ç–æ–≤ –ø—É—Ç—ë–º —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å–Ω–∏–º–∫–æ–≤ –ø–∞–º—è—Ç–∏
- **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–∑ —Ñ–∞–π–ª–æ–≤
- **–°—Ç—Ä–∞–Ω–∏—á–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏** ‚Äî –≥–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π –ø–æ–ª–∏—Ç–∏–∫–æ–π
- **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤** ‚Äî –º–∞–∫—Ä–æ—Å—ã –¥–ª—è –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è –º–µ–∂–æ–±—ä–µ–∫—Ç–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- **–û–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ jgit** ‚Äî content-addressed —Ö—Ä–∞–Ω–µ–Ω–∏–µ JSON –≤ –±–∏–Ω–∞—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ CBOR
- **–°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–∏—Ç–æ–≤ jgit** ‚Äî –∏—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π JSON-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –≤–µ—Ç–∫–∞–º–∏ –∏ checkout

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: ObjectStore (jgit)

```cpp
#include "jgit/object_store.h"
#include <nlohmann/json.hpp>

// –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π jgit —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
auto store = jgit::ObjectStore::init("./my_repo");

// –°–æ—Ö—Ä–∞–Ω–∏—Ç—å JSON-–æ–±—ä–µ–∫—Ç
nlohmann::json doc = {{"name", "Alice"}, {"age", 30}};
jgit::ObjectId id = store.put(doc);

// –ü–æ–ª—É—á–∏—Ç—å –æ–±—ä–µ–∫—Ç –ø–æ —Ö–µ—à—É
auto retrieved = store.get(id);
// retrieved.value() == doc

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
bool exists = store.exists(id);  // true
```

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: PersistentJsonStore + –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ObjectStore (jgit)

```cpp
#include "jgit/persistent_json_store.h"
#include "jgit/object_store.h"

// –û—Ç–∫—Ä—ã—Ç—å (–∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å) ObjectStore –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–Ω–∏–º–∫–æ–≤
auto obj_store = jgit::ObjectStore::init("./my_repo");

// –†–∞–±–æ—á–µ–µ –¥–µ—Ä–µ–≤–æ: –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å JSON –≤ PersistentJsonStore
jgit::PersistentJsonStore pjs;
nlohmann::json doc = {{"version", 1}, {"data", {1, 2, 3}}};
uint32_t root_id = pjs.import_json(doc);

// –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —É–∑–µ–ª –Ω–∞–ø—Ä—è–º—É—é (–±–µ–∑ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON)
pjs.set_node(root_id, jgit::persistent_json_value::make_int(42));

// –°–æ–∑–¥–∞—Ç—å —Å–Ω–∏–º–æ–∫: —Ä–∞–±–æ—á–µ–µ –¥–µ—Ä–µ–≤–æ ‚Üí CBOR ‚Üí ObjectStore (–∞–Ω–∞–ª–æ–≥ "git commit")
jgit::ObjectId snapshot_id = pjs.snapshot(root_id, obj_store);

// –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ —Å–Ω–∏–º–∫–∞ –≤ –Ω–æ–≤–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–µ (–∞–Ω–∞–ª–æ–≥ "git checkout")
jgit::PersistentJsonStore pjs2;
uint32_t restored_id = pjs2.restore(snapshot_id, obj_store);
nlohmann::json restored = pjs2.export_json(restored_id);
```

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: Repository ‚Äî —Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–∏—Ç–æ–≤ (jgit)

```cpp
#include "jgit/repository.h"

// –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
auto repo = jgit::Repository::init("./my_repo");

// –ó–∞–ø–∏—Å–∞—Ç—å –ø–µ—Ä–≤—É—é –≤–µ—Ä—Å–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞
nlohmann::json v1 = {{"name", "Alice"}, {"version", 1}};
jgit::ObjectId c1 = repo.commit(v1, "–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–º–º–∏—Ç", "Alice");

// –ò–∑–º–µ–Ω–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –∏ –∑–∞–ø–∏—Å–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
nlohmann::json v2 = {{"name", "Alice"}, {"version", 2}};
jgit::ObjectId c2 = repo.commit(v2, "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏", "Alice");

// –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ (–æ—Ç –Ω–æ–≤—ã—Ö –∫ —Å—Ç–∞—Ä—ã–º)
for (const jgit::Commit& c : repo.log()) {
    // c.id.hex, c.message, c.author, c.timestamp
}

// –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª—é–±—É—é –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫—É—é –≤–µ—Ä—Å–∏—é
nlohmann::json old_doc = repo.checkout(c1);  // old_doc == v1

// –†–∞–±–æ—Ç–∞ —Å –≤–µ—Ç–∫–∞–º–∏
repo.switch_branch("feature");
repo.commit({{"draft", true}}, "–ß–µ—Ä–Ω–æ–≤–∏–∫", "Bob");
repo.switch_branch("main");   // –∏—Å—Ç–æ—Ä–∏—è main –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å
```

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è jgit

–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã **jgit**: —Ç–µ–º–ø–æ—Ä–∞–ª—å–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è JSON, –≥–¥–µ:

- –ö–∞–∂–¥—ã–π JSON-—Ñ–∞–π–ª —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º **–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–µ–º—ã–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º**
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è **–≤–µ—Ç–∫–∏**, **—Ç–µ–≥–∏** –∏ **`$ref`-—Å—Å—ã–ª–∫–∏** –¥–ª—è –ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –º–µ–∂–¥—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏
- –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **–±–∏–Ω–∞—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ** (CBOR/MessagePack —á–µ—Ä–µ–∑ [nlohmann/json](https://github.com/nlohmann/json))
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –≤–∏–¥–µ **JSON Patch** (RFC 6902) ‚Äî –¥–µ–ª—å—Ç—ã, –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ —Å –ø–æ–º–æ—â—å—é `BinDiffSynchronizer`

```
Git                     jgit
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
blob / tree / commit    json-blob / json-tree / json-commit
–æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ     –±–∏–Ω–∞—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (PageDevice + CBOR)
–≤–µ—Ç–∫–∏ / —Ç–µ–≥–∏            –≤–µ—Ç–∫–∏ / —Ç–µ–≥–∏ –¥–ª—è JSON-–¥–æ–∫—É–º–µ–Ω—Ç–∞
diff (—Ç–µ–∫—Å—Ç–æ–≤—ã–π)        JSON Patch (RFC 6902)
merge                   JSON Merge Patch (RFC 7396)
submodules              $ref-—Å—Å—ã–ª–∫–∏ –º–µ–∂–¥—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏
```

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

**–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å vs —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç:**

- –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å (`fptr<T>`) ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π —Å–∞–º —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç ‚Äî –æ–±—ã—á–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å, —Å—Å—ã–ª–∞—é—â–∏–π—Å—è –Ω–∞ –æ–±—ä–µ–∫—Ç –≤ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

**–°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ:**

–°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ ‚Äî –æ–Ω–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ –∏–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤ –æ–±—ã—á–Ω–æ–π –ø–∞–º—è—Ç–∏. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–∞–º–∏ –≤ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∑–∞–Ω–∏–º–∞—é—Ç—Å—è –º–µ–Ω–µ–¥–∂–µ—Ä—ã –∞–¥—Ä–µ—Å–Ω—ã—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ (`AddressManager`), –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º–∏ –Ω–æ—Å–∏—Ç–µ–ª—è–º–∏: –¥–∏—Å–∫, —Å–µ—Ç—å, –ë–î –∏ –¥—Ä.

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `BinDiffSynchronizer.h` | –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–π—Ç–æ–≤ |
| `persist.h` | –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (`persist<T>`, `fptr<T>`) –∏ –º–µ–Ω–µ–¥–∂–µ—Ä –∞–¥—Ä–µ—Å–æ–≤ |
| `PageDevice.h` | –°—Ç—Ä–∞–Ω–∏—á–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º (Policy-based design) |
| `StaticPageDevice.h` | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (in-memory) |
| `Protocol.h` | –ú–∞–∫—Ä–æ—Å—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –º–µ–∂–æ–±—ä–µ–∫—Ç–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è |
| `jgit/hash.h` | SHA-256 –∫–æ–Ω—Ç–µ–Ω—Ç–Ω–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è (`ObjectId`, `hash_object`) |
| `jgit/serialization.h` | JSON ‚Üî CBOR —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (`to_bytes`, `from_bytes`) |
| `jgit/object_store.h` | –û–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å –∫–æ–Ω—Ç–µ–Ω—Ç–Ω–æ–π –∞–¥—Ä–µ—Å–∞—Ü–∏–µ–π (`ObjectStore`) |
| `jgit/persistent_string.h` | –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (`persistent_string`) ‚Äî SSO + —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±—É—Ñ–µ—Ä, —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å `persist<T>` |
| `jgit/persistent_array.h` | –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –º–∞—Å—Å–∏–≤ (`persistent_array<T>`) ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ª—ç–± —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ü–µ–ø–æ—á–∫–∏ —Å–ª—ç–±–æ–≤ |
| `jgit/persistent_map.h` | –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ (`persistent_map<V>`) ‚Äî –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ |
| `jgit/persistent_json_value.h` | –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π —É–∑–µ–ª JSON (`persistent_json_value`) ‚Äî –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π union –≤—Å–µ—Ö 7 —Ç–∏–ø–æ–≤ JSON, —Å–æ–≤–º–µ—Å—Ç–∏–º —Å `persist<T>` |
| `jgit/persistent_json_store.h` | –•—Ä–∞–Ω–∏–ª–∏—â–µ JSON-–¥–µ—Ä–µ–≤–∞ (`PersistentJsonStore`) ‚Äî —Ç—Ä–∏ –ø–ª–æ—Å–∫–∏—Ö –ø—É–ª–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞, –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç `nlohmann::json`; –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `ObjectStore` —á–µ—Ä–µ–∑ `snapshot()`/`restore()` |
| `jgit/commit.h` | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–º–∏—Ç–∞ (`Commit`) ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏: id, root_snapshot, parent_id, author, timestamp, message |
| `jgit/repository.h` | –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π jgit (`Repository`) ‚Äî —Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–∏—Ç–æ–≤ —Å `commit()`, `log()`, `checkout()`, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –≤–µ—Ç–∫–∞–º–∏ |
| `third_party/nlohmann/json.hpp` | nlohmann/json v3.11.3 ‚Äî JSON –¥–ª—è Modern C++ |
| `third_party/sha256.hpp` | SHA-256 (public domain, single header) |

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä**: GCC 7+, Clang 5+, MSVC 2017+ (C++17)
- **–°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏**: CMake 3.16+
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ CMake FetchContent (Catch2)

### –°–±–æ—Ä–∫–∞

```bash
cmake -B build
cmake --build build
ctest --test-dir build --output-on-failure
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞](analysis.md) ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–∏–ª—å–Ω—ã—Ö –∏ —Å–ª–∞–±—ã—Ö —Å—Ç–æ—Ä–æ–Ω, –æ—Ü–µ–Ω–∫–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ jgit –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å nlohmann/json
- [–ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è](plan.md) ‚Äî –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –∑–∞–¥–∞—á–∏, –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ jgit
- [–ü–ª–∞–Ω –§–∞–∑—ã 1](phase1-plan.md) ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Phase 1 (–≤—ã–ø–æ–ª–Ω–µ–Ω)
- [–ü–ª–∞–Ω –§–∞–∑—ã 2](phase2-plan.md) ‚Äî –ø–ª–∞–Ω –§–∞–∑—ã 2: –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ JSON —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `persist<T>` –∏ `fptr<T>` (–≤—ã–ø–æ–ª–Ω–µ–Ω)
- [–ü–ª–∞–Ω –§–∞–∑—ã 3](phase3-plan.md) ‚Äî –ø–ª–∞–Ω –§–∞–∑—ã 3: –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–µ—Ä—Å–∏—Å—Ç–Ω–æ–π –æ–±–≤—è–∑–∫–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å nlohmann::json (–ó–∞–¥–∞—á–∞ 3.1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞)

---

<a name="english"></a>
## English

### Description

BinDiffSynchronizer is a C++ library for binary differential object synchronization. The project provides a mechanism for automatic tracking of object changes at the byte level and support for persistent data storage.

The project serves as the foundation for developing **jgit** ‚Äî a temporal database for JSON documents, similar to Git in its versioning model, but specialized for hierarchical JSON structures.

### Current Status: Phase 1 Complete ‚úì ¬∑ Phase 2 Complete ‚úì ¬∑ Phase 3 In Progress üöÄ

Phase 1 establishes the minimum viable foundation ‚Äî a compilable, cross-platform, tested codebase with a working content-addressed object store for JSON data in binary format.

**What was implemented in Phase 1:**

| Task | Status |
|------|--------|
| Bug fixes (`PageDevice.h`, `persist.h`) | ‚úì Done |
| Migration to C++17 with CMake | ‚úì Done |
| nlohmann/json integration (CBOR) | ‚úì Done |
| Content-addressed object store | ‚úì Done |
| Unit tests (29 tests, all passing) | ‚úì Done |
| CI with GitHub Actions (Linux GCC/Clang, Windows MSVC) | ‚úì Done |

**Phase 2 Progress ‚Äî Persistent JSON Object Tree:**

| Task | Status |
|------|--------|
| 2.1: Feasibility study: `persist<T>` for std classes | ‚úì Done |
| 2.2: Design persistent analogs of std types | ‚úì Done |
| 2.3: Design `jgit::persistent_json_value` | ‚úì Done |
| 2.4: Implement `jgit::PersistentJsonStore` | ‚úì Done |
| 2.5: Integration with ObjectStore (Phase 1) | ‚úì Done |
| 2.6: Unit tests (109 tests, CI green on GCC/Clang/MSVC) | ‚úì Done |
| 2.7: Performance benchmark | ‚úì Done |

**Phase 3 Progress ‚Äî Completing Persistence Layer and nlohmann::json Integration:**

| Task | Status |
|------|--------|
| 3.1: Fix, document and test persistence infrastructure (`persist<T>`, `fptr<T>`, `AddressManager`, `Cache`, `PageDevice`, `MemoryDevice`, `StaticPageDevice`) | ‚úì Done (161 tests, CI green) |
| 3.2: Rewrite `persistent_string`, `persistent_map`, `persistent_json_value`, `PersistentJsonStore` using `persist<T>` and `fptr<T>` | ‚úì Done (185 tests, CI green) |
| 3.3: Instantiate `nlohmann::basic_json<>` with persistent classes | üîú Planned |
| 3.4: Integration tests and CI | üîú Planned |
| 3.5: Performance benchmarks | üîú Planned |

### Key Features

- **Binary synchronization** ‚Äî tracking object changes by comparing memory snapshots
- **Persistent storage** ‚Äî automatic saving and loading of objects from files
- **Page-based memory organization** ‚Äî flexible caching system with configurable policy
- **Protocol system** ‚Äî macros for declarative description of inter-object interaction
- **jgit object store** ‚Äî content-addressed JSON storage in binary CBOR format
- **jgit commit system** ‚Äî full version history of JSON documents with branches and checkout

### Quick Start: ObjectStore (jgit)

```cpp
#include "jgit/object_store.h"
#include <nlohmann/json.hpp>

// Initialize a new jgit repository
auto store = jgit::ObjectStore::init("./my_repo");

// Store a JSON object
nlohmann::json doc = {{"name", "Alice"}, {"age", 30}};
jgit::ObjectId id = store.put(doc);

// Retrieve the object by hash
auto retrieved = store.get(id);
// retrieved.value() == doc

// Check existence
bool exists = store.exists(id);  // true
```

### Quick Start: PersistentJsonStore + ObjectStore integration (jgit)

```cpp
#include "jgit/persistent_json_store.h"
#include "jgit/object_store.h"

// Open (or create) an ObjectStore for immutable snapshots
auto obj_store = jgit::ObjectStore::init("./my_repo");

// Working tree: import JSON into PersistentJsonStore
jgit::PersistentJsonStore pjs;
nlohmann::json doc = {{"version", 1}, {"data", {1, 2, 3}}};
uint32_t root_id = pjs.import_json(doc);

// Edit a node directly (zero-parse access)
pjs.set_node(root_id, jgit::persistent_json_value::make_int(42));

// Snapshot: working tree ‚Üí CBOR ‚Üí ObjectStore (analogous to "git commit")
jgit::ObjectId snapshot_id = pjs.snapshot(root_id, obj_store);

// Restore from snapshot in a new instance (analogous to "git checkout")
jgit::PersistentJsonStore pjs2;
uint32_t restored_id = pjs2.restore(snapshot_id, obj_store);
nlohmann::json restored = pjs2.export_json(restored_id);
```

### Quick Start: Repository ‚Äî Commit System (jgit)

```cpp
#include "jgit/repository.h"

// Create a new repository
auto repo = jgit::Repository::init("./my_repo");

// Commit the first version of a document
nlohmann::json v1 = {{"name", "Alice"}, {"version", 1}};
jgit::ObjectId c1 = repo.commit(v1, "Initial commit", "Alice");

// Update the document and commit a new version
nlohmann::json v2 = {{"name", "Alice"}, {"version", 2}};
jgit::ObjectId c2 = repo.commit(v2, "Update version", "Alice");

// Walk history (newest first)
for (const jgit::Commit& c : repo.log()) {
    // c.id.hex, c.message, c.author, c.timestamp
}

// Restore any historical version
nlohmann::json old_doc = repo.checkout(c1);  // old_doc == v1

// Branch management
repo.switch_branch("feature");
repo.commit({{"draft", true}}, "Draft", "Bob");
repo.switch_branch("main");   // main history is unchanged
```

### The jgit Concept

The key idea for developing this project is to create **jgit**: a temporal database for JSON, where:

- Each JSON file is a separate **versioned repository**
- **Branches**, **tags**, and **`$ref` links** are supported for cross-repository references
- Data is stored in **binary format** (CBOR/MessagePack via [nlohmann/json](https://github.com/nlohmann/json))
- Changes are represented as **JSON Patch** (RFC 6902) ‚Äî deltas computed using `BinDiffSynchronizer`

```
Git                     jgit
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
blob / tree / commit    json-blob / json-tree / json-commit
object store            binary store (PageDevice + CBOR)
branches / tags         branches / tags for JSON document
diff (text)             JSON Patch (RFC 6902)
merge                   JSON Merge Patch (RFC 7396)
submodules              $ref links between repositories
```

### Key Concepts

**Persistent pointer vs pointer to persistent object:**

- Persistent pointer (`fptr<T>`) ‚Äî a pointer that is itself stored in persistent storage
- Pointer to persistent object ‚Äî a regular pointer referencing an object in persistent storage

**Creation and deletion:**

Creation and deletion of persistent objects is no different from regular objects ‚Äî they are created statically or dynamically in regular memory. Management of objects in persistent storage is handled by address space managers (`AddressManager`), which work with various physical media: disk, network, database, etc.

### Components

| File | Description |
|------|-------------|
| `BinDiffSynchronizer.h` | Main class for byte-level change tracking |
| `persist.h` | Persistent objects (`persist<T>`, `fptr<T>`) and address manager |
| `PageDevice.h` | Page device with caching (Policy-based design) |
| `StaticPageDevice.h` | Static implementation of page device (in-memory) |
| `Protocol.h` | Macros for creating inter-object interaction protocols |
| `jgit/hash.h` | SHA-256 content addressing (`ObjectId`, `hash_object`) |
| `jgit/serialization.h` | JSON ‚Üî CBOR serialization (`to_bytes`, `from_bytes`) |
| `jgit/object_store.h` | Content-addressed object store (`ObjectStore`) |
| `jgit/persistent_string.h` | Persistent string (`persistent_string`) ‚Äî SSO + fixed buffer, compatible with `persist<T>` |
| `jgit/persistent_array.h` | Persistent array (`persistent_array<T>`) ‚Äî fixed-capacity slab with multi-slab chaining |
| `jgit/persistent_map.h` | Persistent map (`persistent_map<V>`) ‚Äî sorted array of key-value pairs |
| `jgit/persistent_json_value.h` | Persistent JSON node (`persistent_json_value`) ‚Äî discriminated union of all 7 JSON types, compatible with `persist<T>` |
| `jgit/persistent_json_store.h` | Persistent JSON tree store (`PersistentJsonStore`) ‚Äî three flat fixed-size pools, import/export `nlohmann::json`; integration with `ObjectStore` via `snapshot()`/`restore()` |
| `jgit/commit.h` | Commit structure (`Commit`) ‚Äî version metadata: id, root_snapshot, parent_id, author, timestamp, message |
| `jgit/repository.h` | jgit repository (`Repository`) ‚Äî commit system with `commit()`, `log()`, `checkout()`, branch management |
| `third_party/nlohmann/json.hpp` | nlohmann/json v3.11.3 ‚Äî JSON for Modern C++ |
| `third_party/sha256.hpp` | SHA-256 (public domain, single header) |

### Requirements

- **Compiler**: GCC 7+, Clang 5+, MSVC 2017+ (C++17)
- **Build system**: CMake 3.16+
- **Dependencies**: automatically fetched via CMake FetchContent (Catch2)

### Build

```bash
cmake -B build
cmake --build build
ctest --test-dir build --output-on-failure
```

### Documentation

- [Project Analysis](analysis.md) ‚Äî detailed analysis of strengths and weaknesses, evaluation of the jgit concept and nlohmann/json integration
- [Development Plan](plan.md) ‚Äî promising directions and tasks, detailed jgit implementation plan
- [Phase 1 Plan](phase1-plan.md) ‚Äî detailed Phase 1 implementation plan (completed)
- [Phase 2 Plan](phase2-plan.md) ‚Äî Phase 2 plan: persistent JSON object tree using `persist<T>` and `fptr<T>` (completed)
- [Phase 3 Plan](phase3-plan.md) ‚Äî Phase 3 plan: completing persistence layer and nlohmann::json integration (Task 3.1 done)

---

## –õ–∏—Ü–µ–Ω–∑–∏—è / License

Unlicense
